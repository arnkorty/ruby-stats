{"name":"Ruby-stats","tagline":"Fetch statistics about your machine using Ruby","body":"# ruby-stats\r\n![A part of our Admin Panel that we use internally](https://cloud.githubusercontent.com/assets/973265/7853394/2e0b03b6-052b-11e5-97cf-7c330eaa78e6.png)\r\n\r\n## DESCRIPTION:\r\nRuby Stats helps you get your system statistics whenever you need it. We use it internally to monitor our Servers and send it to our monitoring servers in the cloud. This Gem currently supports Ubuntu and Mac. Unfortunately we have no plans to bring it for Windows.\r\n\r\nHere are some of the statistics you can get about your system:\r\n- CPU Usage\r\n- CPU load\r\n- Memory Usage\r\n- Disk Statistics (Free Space, etc)\r\n- TCP/UDP Packet Exchanges \r\n- Gets some data about the processes that are running\r\n\r\n## Getting Started\r\n\r\ngem install usagewatch_ext\r\n\r\n```ruby\r\nrequire 'usagewatch_ext'\r\n\r\nusw = Usagewatch\r\n\r\nusw.uw_diskused\r\nusw.uw_diskused_perc\r\nusw.uw_cpuused\r\nusw.uw_tcpused\r\nusw.uw_udpused\r\nusw.uw_memused\r\nusw.uw_load\r\nusw.uw_bandrx\r\nusw.uw_bandtx\r\nusw.uw_diskioreads\r\nusw.uw_diskiowrites\r\nusw.uw_cputop\r\nusw.uw_memtop\r\nusw.uw_apacheconns\r\n```\r\n\r\n## Example\r\n\r\n```bash\r\nRun:\r\n\r\nlinux_example.rb\r\n\r\nExample Output:\r\n\r\n11.56 Gigabytes Disk Used\r\n7.0% Disk Used\r\n0.25% CPU Used\r\n30 TCP Connections Used\r\n0 UDP Connections Used\r\n43% Active Memory Used\r\n0.01 Average System Load Of The Past Minute\r\n0.008 Mbit/s Current Bandwidth Received\r\n0.2 Mbit/s Current Bandwidth Transmitted\r\n0/s Current Disk Reads Completed\r\n2/s Current Disk Writes Completed\r\nTop Ten Processes By CPU Consumption:\r\n[[\"/usr/lib64/erlang/erts-5.8.5/bin/beam.smp\", \"5.2\"], [\"ruby\", \"4.1\"], [\"ps\", \"2.0\"], [\"abrt-dump-oops\", \"0.8\"], [\"aoe_ktio\", \"0.7\"], [\"aoe_tx\", \"0.4\"], [\"ata_sff\", \"0.2\"], [\"auditd\", \"0.1\"], [\"awk\", \"0.1\"], [\"-bash\", \"0.1\"]]\r\nTop Ten Processes By Memory Consumption:\r\n[[\"unicorn\", \"4.8\"], [\"unicorn\", \"4.7\"], [\"unicorn\", \"4.6\"], [\"unicorn\", \"4.6\"], [\"unicorn\", \"4.5\"], [\"unicorn\", \"4.5\"], [\"unicorn\", \"4.3\"], [\"unicorn\", \"4.3\"], [\"unicorn\", \"4.2\"], [\"/usr/lib64/erlang/erts-5.8.5/bin/beam.smp\", \"4.0\"]]\r\n```\r\n\r\n```bash\r\nRun:\r\n\r\nmac_example.rb\r\n\r\nExample Output:\r\n\r\nMac version is under development\r\n92.8 Gigabytes Used\r\n24.96 Percentage of Gigabytes Used\r\n71.47% Active Memory Used\r\n7.69% CPU Used\r\n1.19 Average System Load Of The Past Minute\r\nTop Ten Processes By CPU Consumption: [[\"PluginProcess\", \"9.0\"], [\"WindowServer\", \"2.7\"], [\"iPhoto\", \"1.2\"], [\"Terminal\", \"1.0\"], [\"rubymine\", \"0.5\"], [\"SystemUIServer\", \"0.1\"], [\"(scanunit)\", \"0.0\"], [\"(scanunit)\", \"0.0\"], [\"(scanunit)\", \"0.0\"], [\"(scanunit)\", \"0.0\"]]\r\nTop Ten Processes By Memory Consumption: [[\"WebProcess\", \"8.3\"], [\"rubymine\", \"6.4\"], [\"Safari\", \"2.0\"], [\"iPhoto\", \"1.8\"], [\"Mail\", \"1.7\"], [\"mds\", \"1.6\"], [\"ruby\", \"1.5\"], [\"WindowServer\", \"1.3\"], [\"PluginProcess\", \"1.2\"], [\"GitHub\", \"1.1\"]]\r\n```\r\n\r\n## Methods available\r\n\r\n##### Linux\r\n    uw_diskused\r\n    uw_diskused_on(location)\r\n    uw_diskused_perc\r\n    uw_diskavailable\r\n    uw_diskavailable_on(location)\r\n    uw_cpuused\r\n    uw_tcpused\r\n    uw_udpused\r\n    uw_memused\r\n    uw_load\r\n    uw_bandrx\r\n    uw_bandtx\r\n    uw_diskioreads\r\n    uw_diskiowrites\r\n    uw_cputop\r\n    uw_memtop\r\n    uw_httpconns\r\n\r\n##### Mac\r\n    uw_diskused\r\n    uw_diskused_on(location)\r\n    uw_diskused_perc\r\n    uw_diskavailable\r\n    uw_diskavailable_on(location)\r\n    uw_cputop\r\n    uw_memtop\r\n    uw_load\r\n    uw_cpuused\r\n    uw_memused\r\n    uw_httpconns\r\n    uw_bandrx\r\n    uw_bandtx\r\n\r\n\r\n## Notes\r\n\r\n* Disk Used is a sum of all partitions calculated in Gigabytes\r\n\r\n* Disk Used Percentage is a total percentage of all disk partitions used\r\n\r\n* Disk Used On is disk space used on the location passed calculated in Gigabytes, returns \"location invalid\" if invalid location passed\r\n\r\n* Disk Available is a sum of all partitions calculated in Gigabytes\r\n\r\n* Disk Available On is disk space available on the location passed calculated in Gigabytes, returns \"location invalid\" if invalid location passed\r\n\r\n* CPU Used is a percentage of current CPU being used\r\n\r\n* TCP/UDP Connections Used is a total count of each respectively\r\n\r\n* Active Memory Used is a percentage of active system memory being used\r\n\r\n* Load is the average load of the past minute\r\n\r\n* Bandwidth is current received and transmitted in Megabits\r\n\r\n* Disk IO is current disk reads and writes completed per second\r\n\r\n* Top Ten Processes By CPU Consumption are based on percent CPU used\r\n\r\n* Top Ten Processes By Memory Consumption are base on percent Memory used\r\n\r\n* HTTP Conns is the number of connections on 80 port\r\n\r\n## TODO\r\n- Open Source our internal Rails based Dashboard to monitor a server\r\n- More Realtime data updates\r\n- API to send data to Sensu/Graphite directly\r\n\r\n## Tested Using\r\n\r\n**RUBY VERSIONS:**\r\n- ruby 1.9.3p429 (2013-05-15) [x86_64-linux]\r\n- ruby 2.0\r\n- ruby 2.1.5\r\n\r\n**TESTED OS VERSIONS:**\r\n- Ubuntu 14.04\r\n- Mac OS 10.x\r\n\r\n## Credits\r\nThanks to Ruben Espinosa, Phil Chen for the wonderful [Usagewatch](https://github.com/nethacker/usagewatch) gem.\r\n\r\nGetting Help\r\n------------\r\n\r\nWe spend about 40% of our time contributing to Open Source software. That's one of our goals for this year. Please [tweet](https://twitter.com/skcriptd) us with any queries you have. \r\n\r\nLicense\r\n-------\r\n\r\nruby-stats is Copyright (c) 2015 Skcript. It is free software, and may be\r\nredistributed under the terms specified in the [LICENSE] file.\r\n\r\n[LICENSE]: /LICENSE\r\n\r\n\r\nAbout\r\n-----\r\n\r\n![Skcript](http://www.skcript.com/static/skcript_norm.png)\r\n\r\nruby-stats is maintained and funded by Skcript. The names and logos for\r\nSkcript are properties of Skcript.\r\n\r\nWe love open source, and we have been doing quite a bit of contributions to the community. Take a look at them [here][skcriptoss]. Also, encourage people around us to get involved in community [operations][community]. [Join us][hiring], if you'd like to see the world change from our HQ.\r\n\r\n[skcriptoss]: http://skcript.github.io/\r\n[community]: http://www.skcript.com/community?utm_source=github\r\n[hiring]: http://www.skcript.com/careers?utm_source=github\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}